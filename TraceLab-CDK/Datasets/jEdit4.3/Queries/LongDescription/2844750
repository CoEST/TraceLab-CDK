Attached is a patch (against SVN r16059) which solves problem of underscores disappearing when the cursor is moved up and down the lines of the TextArea with the "DejaVu Sans Mono" at 15pt in jEdit from SVN trunk (r16059) under openjdk6-1.5-2-i686. The root cause was the underscore in this particular font descends below lineHeight and appears on the first pixel of the next line. So when the next line is drawn, the underscore of the current line is painted-over and it disappears. The solution used in the patch is to always draw one extra line above the first line being repainted, so that any underscores in the extra above line are preserved during the repaint. Thanks for your consideration. 